

<script lang="ts">
	import { GroupCard } from "../group-card/"
	import {createEventDispatcher} from "svelte"

	// Input
	export let itemSets: string[][] = []
	
	// Internal
	let selectedIndex = -1
	const dispatch = createEventDispatcher()

	function handleClick(index: number){
		selectedIndex = index
		dispatch("select", {index})
	}

</script>

<group-card-list>
	{#each itemSets as itemSet, ii }
		<GroupCard 
			items={itemSet} 
			on:click={() => handleClick(ii)}
			dataTestid={`card_${ii}`}
			selected={selectedIndex === ii}
		/>
	{/each}
</group-card-list>

<style>
	group-card-list{
		display: flex;
		flex-direction: column;
		gap: 1rem;
		overflow-y: auto;
		padding: 1rem;
	}
</style>
